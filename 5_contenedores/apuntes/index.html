



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Controladores contenedores - IUDM-iOS-basico</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#controladores-contenedores" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="IUDM-iOS-basico" class="md-header-nav__button md-logo">
          
            <img src="../../logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              IUDM-iOS-basico
            </span>
            <span class="md-header-nav__topic">
              
                Controladores contenedores
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="IUDM-iOS-basico" class="md-nav__button md-logo">
      
        <img src="../../logo.png" width="48" height="48">
      
    </a>
    IUDM-iOS-basico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../1_controllers/apuntes/" title="View Controllers" class="md-nav__link">
      View Controllers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../1_controllers/ejercicios/" title="Ejercicio" class="md-nav__link">
      Ejercicio
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../2_vistas/apuntes/" title="Vistas" class="md-nav__link">
      Vistas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../2_vistas/ejercicios/" title="Ejercicios" class="md-nav__link">
      Ejercicios
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../3_autolayout/apuntes/" title="Autolayout" class="md-nav__link">
      Autolayout
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../3_autolayout/ejercicios/" title="Ejercicios" class="md-nav__link">
      Ejercicios
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../4_tablas/apuntes/" title="Tablas" class="md-nav__link">
      Tablas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../4_tablas/ejercicios/" title="Ejercicios" class="md-nav__link">
      Ejercicios
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tab-bar-controllers" class="md-nav__link">
    Tab bar controllers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formas-de-crear-un-tab-bar-controller" class="md-nav__link">
    Formas de crear un tab bar controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personalizar-la-barra-inferior" class="md-nav__link">
    Personalizar la barra inferior
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#navigation-controllers" class="md-nav__link">
    Navigation controllers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-un-controlador-de-navegacion" class="md-nav__link">
    Crear un controlador de navegación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadir-pantallas-a-la-jerarquia" class="md-nav__link">
    Añadir pantallas a la jerarquía
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personalizar-la-barra-de-navegacion" class="md-nav__link">
    Personalizar la barra de navegación
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iconos" class="md-nav__link">
    Iconos 
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iconos-png" class="md-nav__link">
    Iconos PNG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sf-symbols" class="md-nav__link">
    SF Symbols
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="controladores-contenedores">Controladores contenedores<a class="headerlink" href="#controladores-contenedores" title="Permanent link">&para;</a></h1>
<p>A diferencia de los otros tipos de <em>controllers</em> que hemos visto, los controladores contenedores no muestran directamente el contenido “principal” de la aplicación. El papel de estos controladores es, como su propio nombre indica,  el de servir de contenedores a los controladores que muestran el contenido y permitir la nanegación sencilla entre ellos.</p>
<p>En esta parte básica de la asignatura vamos a ver los dos controladores contenedores más típicos: el <em>tab bar</em> y el <em>navigation</em>. Los dos nos sirven para organizar la <em>app</em> en diferentes pantallas, con la diferencia de que el <em>navigation controller</em> se usa cuando la navegación es jerárquica/secuencial (por ejemplo, un par de vistas maestro/detalle, o un asistente con varios pasos) y el <em>tab bar</em> cuando queremos dividir nuestra <em>app</em> en distintos "apartados" pero no hay una relación jerárquica entre ellos.</p>
<h2 id="tab-bar-controllers">Tab bar controllers<a class="headerlink" href="#tab-bar-controllers" title="Permanent link">&para;</a></h2>
<p>Permiten diseñar la típica aplicación dividida por “apartados” o “tabs”. Por ejemplo lo podemos ver en la aplicación de “salud” de iOS (entre muchísimas otras)</p>
<p><img alt="" src="../images/DraggedImage.png" /></p>
<p>Lo que tenemos es un controlador de tipo “tab bar” que gestiona la barra inferior y la navegación entre pantallas cuando pulsamos cada uno de sus iconos, pero el contenido de las pantallas lo gestionan los otros controladores. </p>
<h3 id="formas-de-crear-un-tab-bar-controller">Formas de crear un <em>tab bar controller</em><a class="headerlink" href="#formas-de-crear-un-tab-bar-controller" title="Permanent link">&para;</a></h3>
<p>Podemos <strong>arrastrar un <em>tab bar controller</em> al *storyboard</strong><em> desde la </em>object library*.</p>
<p><img alt="" src="../images/DraggedImage-1.png" /></p>
<p>Vemos que el nuevo <em>tab bar controller</em> aparece conectado a dos controladores convencionales (de la clase <code>UIViewController</code>). Automáticamente cuando pulsemos en cada icono, se saltará al controller asociado.</p>
<p>Podemos añadir pantallas a este <em>tab bar controller</em> sin más que crearlas en el <em>storyboard</em> y luego conectarlas. Hacemos <code>Ctrl+arrastrar</code> desde el <em>tab bar controller</em> hasta la pantalla a conectar y en el menú contextual elegimos el tipo de <em>segue</em> llamado <code>view controllers</code> (en el apartado <code>relationship segue</code>).</p>
<p><strong>Otra forma de crear un *tab bar controller</strong>* relacionado con una pantalla que ya tengamos creada es seleccionar la misma y en el menú de <code>Editor</code> elegir <code>Embed in &gt; Tab bar controller</code>. Aparecerá un tab bar controller con un único icono en la barra inferior, y ya conectado a la pantalla actual. </p>
<h3 id="personalizar-la-barra-inferior">Personalizar la barra inferior<a class="headerlink" href="#personalizar-la-barra-inferior" title="Permanent link">&para;</a></h3>
<p>Desde Xcode podemos cambiar algunas propiedades básicas de los iconos de la barra inferior en el <code>attribute inspector</code>, como el icono, el título, la posición del título con respecto al icono, si queremos que aparezca un <em>badge</em>, etc.</p>
<blockquote>
<p>El interfaz nos permite especificar las propiedades del <code>UITabBarItem</code> y <code>UIBarItem</code>como si fueran objetos separados. En realidad es el mismo pero las propiedades aparecen separadas ya que la segunda clase es la superclase de la primera</p>
</blockquote>
<p>En el apartado <code>Tab bar item</code>, si elegimos uno de los iconos del sistema no podremos cambiar el título ya que Apple considera que lo contrario podría inducir a confusión al usuario.</p>
<blockquote>
<p>En el <a href="#iconos">último apartado</a> de los apuntes se habla algo más sobre el formato de los iconos que podemos añadir a una <em>tab bar</em></p>
</blockquote>
<h2 id="navigation-controllers">Navigation controllers<a class="headerlink" href="#navigation-controllers" title="Permanent link">&para;</a></h2>
<p>Los <em>navigation controller</em> sirven para crear estructuras de navegación jerárquica en las que tenemos pantallas y “subpantallas”. Estando en una de ellas podemos volver atrás una a una. El <em>navigation controller</em> se encargará de que se vaya cambiando automáticamente al controlador apropiado (el de la pantalla actual).</p>
<p>Nótese que cuando estamos navegando de este modo estamos usando una <strong>pila de controladores</strong>, en el sentido que tiene este término en estructuras de datos, ya que conforme vamos profundizando en la jerarquía se van apilando los controladores, y cuando volvemos atrás quitamos el de la parte de arriba de la pila.</p>
<h3 id="crear-un-controlador-de-navegacion">Crear un controlador de navegación<a class="headerlink" href="#crear-un-controlador-de-navegacion" title="Permanent link">&para;</a></h3>
<p>Hay dos formas de crear gráficamente un controlador de navegación:</p>
<p>1) Seleccionamos un <em>controller</em> en el <em>storyboard</em> y elegimos la opción de menú de <code>Editor &gt; Embed in &gt; Navigation controller</code>. Se creará un controlador de navegación que tiene como controlador de contenido asociado al que habíamos seleccionado.</p>
<p>Nótese que como en el caso de los <em>tab bar controller</em> en el de navegación la pantalla está en gris indicando que el contenido no es responsabilidad de este controlador. En el controlador de contenido asociado podemos ver que la parte superior aparece en gris, indicando que esta es la <em>barra de navegación</em> que gestionará el controlador de navegación.</p>
<p>2) Podemos arrastrar un <code>Navigation controller</code> desde la librería de objectos hasta el <em>storyboard</em>. Por defecto nos creará el controlador de navegación junto con un controlador de tabla, estructura apropiada para comenzar con una vista maestro/detalle. No obstante si no queremos este segundo controlador podemos borrarlo y conectar el de navegación con uno nuevo con <code>Ctrl+Arrastrar</code> entre ambos y seleccionando en el menú contextual la opción de <code>root view controller</code> bajo <code>relationship segue</code>. </p>
<p>Las pantallas que están en la jerarquía de un <em>navigation controller</em> tienen en la parte superior una <strong>barra de navegación</strong>, que en el árbol de la jerarquía de vistas (<em>Document outline</em>) aparece como <code>Navigation item</code>. Podemos cambiar varias de sus propiedades en el inspector de propiedades, como el título, una línea adicional de título (<code>prompt</code>), el título del botón para ir atrás (que iOS muestra automáticamente), y si queremos que el título sea grande.</p>
<h3 id="anadir-pantallas-a-la-jerarquia">Añadir pantallas a la jerarquía<a class="headerlink" href="#anadir-pantallas-a-la-jerarquia" title="Permanent link">&para;</a></h3>
<p>Para añadir un controlador a la jerarquía de navegación basta con <code>Ctrl+Arrastrar</code> entre el componente que dispararía el salto y el controlador de destino. En el menú contextual hay que elegir el <em>segue</em> adecuado (sea <code>push</code> o <code>show)</code>. Evidentemente el controlador de origen tiene que estar ya en la jerarquía de navegación para que esta operación funcione.</p>
<h3 id="personalizar-la-barra-de-navegacion">Personalizar la barra de navegación<a class="headerlink" href="#personalizar-la-barra-de-navegacion" title="Permanent link">&para;</a></h3>
<p>Automáticamente el controlador de navegación gestionará una barra de navegación en la parte superior de la pantalla. Esta barra muestra por defecto en su parte izquierda un botón <code>&lt; Back</code> para ir al controlador anterior. </p>
<p>La barra de navegación es totalmente personalizable. Lo más inmediato es mostrar un título para la pantalla actual cambiando la propiedad <code>title</code> del controlador. Esta propiedad en general es una simple descripción de la pantalla, pero en el caso de controladores de contenido que estén incluidos en un contenedor, representa el título de la barra de navegación.</p>
<p>El cambio de <code>title</code> podemos hacerlo bien en el <em>interface builder</em> de Xcode o bien por código, por ejemplo en el método <code>viewWillAppear</code> del <em>controller</em>, ya que se ejecutará antes de mostrar la vista. Al cambiar el título del controlador también cambiará automáticamente el botón ``&lt; Back``` del siguiente “nivel” para reflejar el nuevo título.</p>
<blockquote>
<p>Si el título del <em>controller</em> es demasiado largo y no cabe en el botón este seguirá con el título por defecto (<code>Back</code>)</p>
</blockquote>
<p>Podemos cambiar completamente la barra de navegación. Es accesible mediante la propiedad <code>navigationItem</code> del controlador, y podemos cambiar por ejemplo:</p>
<ul>
<li><code>backBarButtonItem</code>: el botón, de tipo <code>UIBarButtonItem</code>, que se utilizará para volver atrás a este controlador</li>
<li><code>titleView</code>: el componente con el título para el controlador, cuyo texto como hemos visto podemos cambiar con la propiedad <code>title</code> del controlador.</li>
<li><code>rightBarButtonItem</code>: por defecto <code>nil</code>. Típicamente se usa para añadir un botón para editar el contenido de la pantalla actual, pero podemos colocar lo que queramos.</li>
</ul>
<h2 id="iconos">Iconos <a name="iconos"></a><a class="headerlink" href="#iconos" title="Permanent link">&para;</a></h2>
<p>Como hemos visto le podemos poner un icono a cada sección de una <em>tab bar</em>. Como veremos, pasa lo mismo con las <em>navigation bar</em>. Los iconos "clásicos" para usar en estos casos en iOS son en formato png y debemos añadirlos al proyecto, pero desde iOS13 hay un nuevo conjunto de unos 2400 iconos ya incluídos en el sistema llamados "SF Symbols" y especialmente diseñados para encajar con la fuente por defecto.</p>
<h3 id="iconos-png">Iconos PNG<a class="headerlink" href="#iconos-png" title="Permanent link">&para;</a></h3>
<p>Los iconos de este tipo son monocromáticos. El formato a usar es .png, del que el sistema examinará el canal alfa o de transparencia, tomando como forma del icono los pixels que sean opacos, pero ignorando su color.</p>
<p>El tamaño recomendado para los iconos varía según la interfaz se muestre en modo <em>compact</em> (que en un iPhone correspondería a <em>portrait</em>/vertical) o <em>regular</em> (en un iPhone sería <em>landscape</em>/horizontal, y en un iPad sería cualquier modo, ya que un iPad en vertical es mucho más ancho que un iPhone). Podéis consultar más detalles sobre el formato y el tamaño recomendado en el apartado "<a href="https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/custom-icons#tab-bar-icon-size">Tab bar icon size</a>"  de las <em><a href="https://developer.apple.com/design/human-interface-guidelines/ios/overview/themes/">iOS Human Interface Guidelines </a></em> de Apple.</p>
<h3 id="sf-symbols">SF Symbols<a class="headerlink" href="#sf-symbols" title="Permanent link">&para;</a></h3>
<p>Están disponibles solo desde iOS13. Presentan varias ventajas, entre ellas la de integrarse perfectamente con las fuentes del sistema, estar ya incluídos en iOS (no hay que añadirlos al proyecto) y haber también algunos multicolores. Para más información sobre estos iconos, se recomienda consultar el <a href="https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/">apartado correspondiente</a> de las Human Interface Guidelines</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>